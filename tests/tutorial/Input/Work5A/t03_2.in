#ABINIT - INPUT FILE
#BARIUM 31 ATOMS

#Process distribution (parallelism) - TO BE ADAPTED
# autoparal 1
# npkpt 1 npband 8 npfft 4   # 32 MPI processes
# npkpt 1 npband 8 npfft 8   # 64 MPI processes -1
# npkpt 1 npband 16 npfft 4  # 64 MPI processes -2
# npkpt 1 npband 16 npfft 8  # 128 MPI processes
use_gemm_nonlop 1 #0
paral_kgb 1
npband 2
npfft 1
#bandpp 96

#Plane wave basis
ecut 8.
pawecutdg 10.

#Self-consistent cycle parameters
toldfe 1.d-5
nstep 2
nline 6
nnsclo 2

#K-points and symetries
nkpt 1
kpt 3*0.
kptopt 0
nsym 0
chksymbreak 0

#Electronic configuration
nband 192
occopt 3
tsmear 0.002 hartree

#Activation/deactivation of I/O
optforces 2
optstress 1
prtwf 0
prtden 0
prteig 0
timopt -3

#Simulation cell
acell  3*15.34
rprim 1. 0. 0. 0. 1. 0. 0. 0. 1.
natom 31
ntypat 1
typat 31*1
znucl 56.
chkprim 0

wfoptalg 111
#istwfk 1
istwfk 2

#useria 121212

#Atomic positions
xred
              2.50000000000000e-01   2.50000000000000e-01   0.00000000000000e+00
              2.50000000000000e-01   0.00000000000000e+00   2.50000000000000e-01
              0.00000000000000e+00   2.50000000000000e-01   2.50000000000000e-01
              0.00000000000000e+00   0.00000000000000e+00   5.00000000000000e-01
              2.50000000000000e-01   2.50000000000000e-01   5.00000000000000e-01
              2.50000000000000e-01   0.00000000000000e+00   7.50000000000000e-01
              0.00000000000000e+00   2.50000000000000e-01   7.50000000000000e-01
              0.00000000000000e+00   5.00000000000000e-01   0.00000000000000e+00
              2.50000000000000e-01   7.50000000000000e-01   0.00000000000000e+00
              2.50000000000000e-01   5.00000000000000e-01   2.50000000000000e-01
              0.00000000000000e+00   7.50000000000000e-01   2.50000000000000e-01
              0.00000000000000e+00   5.00000000000000e-01   5.00000000000000e-01
              2.50000000000000e-01   7.50000000000000e-01   5.00000000000000e-01
              2.50000000000000e-01   5.00000000000000e-01   7.50000000000000e-01
              0.00000000000000e+00   7.50000000000000e-01   7.50000000000000e-01
              5.00000000000000e-01   0.00000000000000e+00   0.00000000000000e+00
              7.50000000000000e-01   2.50000000000000e-01   0.00000000000000e+00
              7.50000000000000e-01   0.00000000000000e+00   2.50000000000000e-01
              5.00000000000000e-01   2.50000000000000e-01   2.50000000000000e-01
              5.00000000000000e-01   0.00000000000000e+00   5.00000000000000e-01
              7.50000000000000e-01   2.50000000000000e-01   5.00000000000000e-01
              7.50000000000000e-01   0.00000000000000e+00   7.50000000000000e-01
              5.00000000000000e-01   2.50000000000000e-01   7.50000000000000e-01
              5.00000000000000e-01   5.00000000000000e-01   0.00000000000000e+00
              7.50000000000000e-01   7.50000000000000e-01   0.00000000000000e+00
              7.50000000000000e-01   5.00000000000000e-01   2.50000000000000e-01
              5.00000000000000e-01   7.50000000000000e-01   2.50000000000000e-01
              5.00000000000000e-01   5.00000000000000e-01   5.00000000000000e-01
              7.50000000000000e-01   7.50000000000000e-01   5.00000000000000e-01
              7.50000000000000e-01   5.00000000000000e-01   7.50000000000000e-01
              5.00000000000000e-01   7.50000000000000e-01   7.50000000000000e-01

## After modifying the following section, one might need to regenerate the pickle database with runtests.py -r
#%%<BEGIN TEST_INFO>
#%% [setup]
#%% executable = abinit
#%% [files]
#%% psp_files = au.hpc.paw
#%% [paral_info]
#%% nprocs_to_test = 32, 64, 128
#%% max_nprocs = 128
#%% [NCPU_32]
#%% files_to_test = t02_MPI32.out, tolnlines=   0,   tolabs=  0.0,      tolrel= 0.0
#%% [NCPU_64]
#%% files_to_test = t02_MPI64.out, tolnlines=   0,   tolabs=  0.0,      tolrel= 0.0
#%% [NCPU_128]
#%% files_to_test = t02_MPI128.out, tolnlines=   0,   tolabs=  0.0,      tolrel= 0.0
#%% [extra_info]
#%% keywords = PAW,HPC
#%% authors = M. Torrent
#%% description = 31 gold atoms (one vacancy) - HPC test
#%%<END TEST_INFO>
