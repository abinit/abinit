<html>
<head>
<title>Release notes</title>
</head>
<body>

<h5>Copyright (C) 2002 ABINIT group (XG)
<br> This file is distributed under the terms of the GNU General Public License, see
~abinit/COPYING or <a href="http://www.gnu.org/copyleft/gpl.txt">
http://www.gnu.org/copyleft/gpl.txt </a>.
<br> For the initials of contributors, see ~abinit/doc/developers/contributors .
</h5>

<pre>
Many thanks to the following contributors to the ABINIT project
between March 2002 and July 2002:
G. Bachelet, J.-M. Beuken, L. Boeri, F. Bottin,
P. Casek, R. Caracas, T. Deutsch,
F. Finocchi, J. Fuhr, L. Fu-Fa, P. Ghosez,
I. Hamada, T. Kairet, D. Klug, F. Jollet, T. Maxisch, M. Mikami, V. Olevano,
G.-M. Rignanese, A. Roy, M. Salvado, L. Sindic, J. Sofo, M. Torrent,
M. Veithen, M. Verstraete, G. Zerah

I think it is worth to read carefully
all the modifications that are mentioned in the present file,
and examine the links to help files or test cases ...
This might take some time ...
Please note the WARNINGS !

Xavier

__________________________________________________________________

Version 3.4, released on July 20, 2002.

Changes with respect to version 3.3 :

A. WARNINGS.
B. Most noticeable changes in the package (for users)
C. Most noticeable changes in the package (for developers)
D. Other changes (or on-going developments, not finalized)

__________________________________________________________________

A.  WARNINGS

A1. The input variable localhead does not exist anymore.
    (The HDR disk file has been replaced by a datastructure), see C3

A2. The input variable zatom has been replaced by znucl. See C4.

A3. The header of the wavefunction, density and potential files
    has changed. See C3.

A4. Due to works on the GW part of the code, the default
    value of kssform has been switched from 0 to 1
    (the default WF file format, for interfacing with GW calculation is
     now the _KSS format, and no more the _STA format)
    (Note to Gian-Marco and Valerio : the input variable gwpt has been
     suppressed, and replaced by bdgw and kptgw - that are the real internal
     variables - this is less confusing).

__________________________________________________________________

B.  Most noticeable changes for the users

B1. A utility to compute Bader atomic charges is available:
    aim.f (for "Atom-In-Molecule"). The automatic
    test #57 (of test_v3) analyzes the density of MgO generated
    by the test #56.  This work has been done by Petr Casek,
    Fabio Finocchi, and Francois Bottin, on the basis of earlier
    routines by Javier Fuhr and Jorge Sofo.
    The documentation is available in html, and fully integrated
    in the ABINIT documentation.
    A full periodic table of core densities, for use with the
    Bader utility, has been generated by M. Verstraete.
    See the Web site for this periodic table (thanks to JM Beuken).

B2. The cut3d utility is now able to perform the
    Hirschfeld atomic charge analysis. The automatic
    test #61 (of test_v3) analyses the density of NaCl generated
    by the test #60. This work is a collaboration
    of T Kairet, M. Verstraete, and XG.
    A full periodic table of total charge densities, for use with the
    Hirshfeld analysis, has been generated by M. Verstraete.
    See the Web site for this periodic table (thanks to JM Beuken).

B3. The separate programs chi and sig, previously
    needed for GW calculations have been integrated
    in the main ABINIT package.
    The automatic tests #30,31 and 32 of Test_v3 have been
    replaced by a single (multi dataset) test #30 of Test_v3,
    and a new test #31 of Test_v3 (Silicon Carbide) has been created.
    Related input variables should still be documented.
    This work has been done by  Gian-Marco Rignanese
    and Valerio Olevano.

B4. Pseudopotentials can be mixed in an "alchemical way",
    in order to generate alchemical pseudoatoms.
    Mixing parameters are specified in the new input
    variable "mixalch", while the new input variables
    "npsp" and "ntypalch" allow to make the distinction
    between the pseudopotentials and the pseudoatoms,
    either "pure" (made of one pseudopotential), or
    "alchemical" (combination of different pseudopotentials).

__________________________________________________________________

C. Most noticeable changes for the developers

C1. New directories have been created :
    - Src_2bader (for Bader Atom-In-Molecule charge analysis),
     by PCasek and FFinocchi), see B1
    - Test_v4 (for PAW, FJollet, MTorrent and GZerah), see D1.
    - Lib_light (for parareel, ARoy and GZerah), see D5.

C2. All the routines related to the reading of input variables,
    their checking, and their output, have been strongly modified,
    to use the dtset_type datastructure. You should have
    a look at the routines abinit.f, invars1.f, invars1m.f, invars2.f,
    invars2m.f, indefo.f, chkinp.f, driver.f, outvars.f, outvars1.f ...

C3. The header of wf, den and pot files is now treated using a
    datastructure (type hdr_type), and no more a temporary disk file.
    Also, utility routines to work with this datastructure have been written :
    hdr_init, hdr_clean, hdr_update, hdr_io, hdr_check .
    The routines headck.f, headwr.f, headcopy.f do not exist
    anymore. The parallelisation of the hdr_* routines is not needed,
    unlike the previous head* routines. The routines
    inwffil.f, cut3d.f, init.f, loper3.f, ... benefit a lot of this change.

C4. The input variable zatnum has been replaced by znucl. The
    old variable is still accepted, however: its use will be
    allowed for some time.
    (Note : the change should be made not only in the Fortran routines,
     but also in the doc, and this is not the case yet).

__________________________________________________________________

D.  Other changes (or on-going developments, not yet finalized).

D1. Implementation of PAW is continuing (Marc Torrent,
    Francois Jollet, Gilles Zerah)
    All the machinery needed to compute the SCF total energies
    is implemented ! Debugging phase...
    Hence, the creation of the Test_v4 directory (see C1)

D2. Implementation of lattice Wannier functions is continuing
    (Razvan Caracas). See the Src_7lwf directory, and Src_main/lwf.f .
    Additional input variable "eivec" for IFC.

D3. Implementation of the 2n+1 theorem has started (Marek Veithen,Philippe Ghosez).
    The evaluation of the electro-optic coefficient is coded.
    Testing is on-going.

D4. The routine drivexc.f has been created. It drives directly the computation
    of the different XC functionals, and is more re-usable than
    rhohxc (that was higher-level, and typical of a plane wave implementation).

D5. The parareel algorithm has been implemented by Gilles Zerah and Aline Roy,
    for testing purposes.

D6. The band energy (weighted sum of eigenvalues) is now computed,
    and printed, thanks to LBoeri and GBachelet.

D7. Bugs removed : thanks to J.-M. Beuken, R. Caracas, T. Deutsch, L. Fu-Fa,
    I. Hamada, D. Klug, F. Jollet, T. Maxisch, M. Mikami, V. Olevano,
    A. Roy, M. Salvado, L. Sindic, M. Torrent, M. Veithen, M. Verstraete
</pre>
