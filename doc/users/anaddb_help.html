<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Anaddb help</title>
  <link rel="stylesheet" type="text/css" href="formabinit.css">
</head>
<body bgcolor="#ffffff">
<hr>
<h1>Help file for the Anaddb utility of the ABINIT package.</h1>
<h3>This file explains the use and i/o parameters needed for
the "Analysis of Derivative DataBase" code of the ABINIT package.
</h3>
<hr>
<a name="top"></a>
<p>This code is able to compute interatomic force constants,
but also, more generally, many different physical properties
from databases containing derivatives of the total energy
(Derivative DataBases - DDB).
<br>
The user is not supposed to know how the Derivative
DataBase (DBB) has been generated. He/she should simply know what
material is described by the DDB he/she wants to use.
<br>
If he/she is interested in the generation of DDB, and wants to
know more about this
topic, he/she will read different help files of the ABINIT package,
related to the
<A href="abinit_help.html"><B>main code</B></A>, to the
<A href="respfn_help.html"><B>response-function features of the main code</B></A>,
to the <A href="mrgddb_help.html"><B>merging code</B></A>.
</h3>

<p> It will be easier to discover the
  present file with the help of the <a href="../tutorial/welcome.html">tutorial</a>, especially
 the <a href="../tutorial/lesson_rf2.html">second lesson on response functions</a>.
<br>It is worthwhile to print this help file, for ease of reading.

<h5>Copyright (C) 1998-2016 ABINIT group (XG,DCA)
<br>
This file is distributed under the terms of the GNU General Public
License, see
~abinit/COPYING or <a href="http://www.gnu.org/copyleft/gpl.txt">http://www.gnu.org/copyleft/gpl.txt </a>.
<br>
For the initials of contributors, see
~abinit/doc/developers/contributors.txt .
</h5>

<script type="text/javascript" src="list_internal_links.js"> </script>

<h3><b> Content of the help file.</b></h3>
<ul>
  <li><a href="anaddb_help.html#1">1. Introduction</a> </li>
  <li><a href="anaddb_help.html#list">2. List of input variables</a>
  </li>
</ul>
<hr>
<h3>&nbsp;</h3>
<h3><b><a name="1"></a>1. Introduction </b></h3>
<p>

In short, a Derivative DataBase contains a list of derivatives
of the total energy with respect to three kind of perturbations:
phonons, electric field and stresses. The present code analyses
the DDB, and directly gives properties of the material under
investigation, like phonon spectrum, frequency-dependent dielectric
tensor, thermal properties.

<p>Given an input file (parameters described below),
  the user must create a "files" file which lists names for the files
  the job will require, including the main input file, the main output file,
  the name of the DDB, and some other file names optionally used for selected capabilities of the code.

<p>The files file (called for example ab.files) could look like: </p>
<p>
</p>
<pre>  anaddb.in<br>  anaddb.out<br>  ddb<br>  band_eps<br>  gkk<br>  anaddb.ep<br>  ddk<br> </pre>
<p>In this example:<br>
  - the main input file is called "anaddb.in", <br>
  - the main output will be put into the file called "anaddb.out", <br>
  - the input DDB file is called "ddb", <br>
  - information to draw phonon band structures will go to band_eps<br>
  - the input GKK file is called "gkk" (used only for electron-phonon interactions)<br>
  - the base filename for electron-phonon output "anaddb.ep" (used only for electron-phonon interactions)<br>
  - the file name for ddk reference files: these are the GKK files generated in k-point derivative runs, using the <a href="../input_variables/html_automatically_generated/varfil.html#prtgkk"><b>prtgkk</b></a> abinit input variable (used only for electron-phonon transport calculations)
  Other examples are given in the ~abinit/test/v2 directory. The latter three filename information
  is often not used by anaddb.
  The maximal length
  of names for the main input or output files is presently 132 characters.

  <p>The main executable file is called anaddb.
    Supposing that the "files" file is called anaddb.files,
    and that the executable is placed in your working directory, anaddb is run
    interactively (in Unix) with the command
  <ul>
    <li><i>anaddb < anaddb.files >& log </i></li>
  </ul>
  <br>
  or, in the background, with the command
 <ul>
  <li><i>anaddb < anaddb.files >& log & </i></li>
 </ul>
<p> where standard out and standard error are piped
to the log file called "log"
(piping the standard error, thanks to the '&' sign placed after '>'
is <b>really important</b>
for the analysis of eventual failures, when not due
to ABINIT, but to other sources, like disk full problem ...).
The user can specify
any names he/she wishes for any of these files.
Variations of the above commands
could be needed,
depending on the flavor of UNIX that is used on the platform
that is considered for running the code.
</p>
<p>The syntax of the input file is strictly similar to the syntax of
the
main abinit input files : the file is parsed, keywords are identified,
comments are also identified. However, the multidataset mode is not
available.
</p>
<p>We now list the input variables for the anaddb input file. In order
to discover them, it is easier to use the different lessons of the tutorial :
start with the <a href="../tutorial/lesson_rf2.html">second lesson on response functions</a>,
then follow the <a href="../tutorial/lesson_elastic.html">lesson on elasticity and piezoelectricity</a>,
the <a href="../tutorial/lesson_eph.html">lesson on electron-phonon interaction</a>, and
the <a href="../tutorial/lesson_nlo.html">lesson on non-linear properties</a>.

<p>
<i>If you are discovering this file with the help of the tutorial,
you can go back to the tutorial window.</i>
</p>
<hr>
<p><a name="list">&nbsp;</a></p>
<h3><b>2. The list of input variables.</b> </h3>
<p>
<b> Alphabetical list of input variables for ANADDB.</b>
<br>
 <br>A.
 <a href="anaddb_help.html#alphon">alphon</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#asr">asr</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#atftol">atftol</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#atifc">atifc</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#a2fsmear">a2fsmear</a>&nbsp;&nbsp;
 <br>B.
 <a href="anaddb_help.html#band_gap">band_gap</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#brav">brav</a>&nbsp;&nbsp;
 <br>C.
 <a href="anaddb_help.html#chneut">chneut</a>&nbsp;&nbsp;
 <br>D.
 <a href="anaddb_help.html#dieflag">dieflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#dipdip">dipdip</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#dosdeltae">dosdeltae</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#dossmear">dossmear</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#dostol">dostol</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#dossum">dossum</a>&nbsp;&nbsp;
 <br>E.
 <a href="anaddb_help.html#eivec">eivec</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#elaflag">elaflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#elphflag">elphflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#elphsmear">elphsmear</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#elph_fermie">elph_fermie</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#enunit">enunit</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_keepbands">ep_keepbands</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_int_gkk">ep_int_gkk</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_b_max">ep_b_max</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_b_min">ep_b_min</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_extrael">ep_extrael</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_nqpt">ep_nqpt</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_prt_yambo">ep_prt_yambo</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_qptlist">ep_qptlist</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_scalprod">ep_scalprod</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ep_nspline">ep_nspline</a>&nbsp;&nbsp;
 <br>F.
 <a href="anaddb_help.html#freeze_displ">freeze_displ</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#frmax">frmax</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#frmin">frmin</a>&nbsp;&nbsp;
 <br>G.
 <a href="anaddb_help.html#gkqwrite">gkqwrite</a>&nbsp;&nbsp;
 <br>H.
 <br>I.
 <a href="anaddb_help.html#iatfix">iatfix</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#iatprj_bs">iatprj_bs</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#iavfrq">iavfrq</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ifcana">ifcana</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ifcflag">ifcflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ifltransport">ifltransport</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ifcout">ifcout</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#instrflag">instrflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#istrfix">istrfix</a>&nbsp;&nbsp;
 <br>J.
 <br>K.
 <a href="anaddb_help.html#kptrlatt">kptrlatt</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#kptrlatt_fine">kptrlatt_fine</a>&nbsp;&nbsp;
 <br>L.
 <br>M.
 <a href="anaddb_help.html#mustar">mustar</a>&nbsp;&nbsp;
 <br>N.
 <a href="anaddb_help.html#natfix">natfix</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#natifc">natifc</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#natprj_bs">natprj_bs</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nchan">nchan</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ndivsm">ndivsm</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nfreq">nfreq</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ngqpt">ngqpt</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ng2qpt">ng2qpt</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ngrids">ngrids</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nlflag">nlflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nph1l">nph1l</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nph2l">nph2l</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nqpath">nqpath</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nqshft">nqshft</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nsphere">nsphere</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nstrfix">nstrfix</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#ntemper">ntemper</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#nwchan">nwchan</a>&nbsp;&nbsp;
 <br>O.
 <a href="anaddb_help.html#outscphon">outscphon</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#outboltztrap">outboltztrap</a>&nbsp;&nbsp;
 <br>P.
 <a href="anaddb_help.html#piezoflag">piezoflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#polflag">polflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtbltztrp">prtbltztrp</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtfsurf">prtfsurf</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prt_ifc">prt_ifc</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtsrlr">prtsrlr</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtmbm">prtmbm</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtdos">prtdos</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#prtnest">prtnest</a>&nbsp;&nbsp;
 <br>Q.
 <a href="anaddb_help.html#qgrid_type">qgrid_type</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#qpath">qpath</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#qph1l">qph1l</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#qph2l">qph2l</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#qrefine">qrefine</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#q1shft">q1shft</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#q2shft">q2shft</a>&nbsp;&nbsp;
 <br>R.
 <a href="anaddb_help.html#ramansr">ramansr</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#relaxat">relaxat</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#relaxstr">relaxstr</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#rfmeth">rfmeth</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#rifcsph">rifcsph</a>&nbsp;&nbsp;
 <br>S.
 <a href="anaddb_help.html#selectz">selectz</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#symdynmat">symdynmat</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#symgkq">symgkq</a>&nbsp;&nbsp;
 <br>T.
 <a href="anaddb_help.html#targetpol">targetpol</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#telphint">telphint</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#temperinc">temperinc</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#tempermin">tempermin</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#thmflag">thmflag</a>&nbsp;&nbsp;
 <a href="anaddb_help.html#thmtol">thmtol</a>&nbsp;&nbsp;
 <br>U.
 <a href="anaddb_help.html#use_k_fine">use_k_fine</a>&nbsp;&nbsp;
 <br>V.
 <br>W.
 <br>X.
 <br>Y.
 <br>Z.

<br><br><br><br><hr>

<font id="title"><a name="alphon">alphon</a></font>
<br><font id="definition">Mnemonics: ALign PHONon mode eigendisplacements</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
In case <b>alphon</b> is set to 1, ANADDB will compute linear combinations of
the eigendisplacements of modes that are degenerate (twice or three times),
in order to align the mode effective charges along the cartesian axes.
This option is useful in the mode-by-mode decomposition of the
electrooptic tensor, and to compute
the Raman susceptibilities of individual phonon modes.
In case of uniaxial crystals, the z-axis should be chosen along the optical axis.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="asr">asr</a></font>
<br><font id="definition">Mnemonics: Acoustic Sum Rule</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 1 (was 0 before v5.3)</font>
<br><br><font id="text">
Govern the imposition of the Acoustic Sum Rule (ASR).
<ul>
 <li>  0 => no ASR for interatomic force constants is imposed.</li>
 <li>  1 or 2 => the ASR for interatomic force constants
  is imposed by modifying the on-site interatomic force constants,
  in a symmetric way (asr=2), or in the more general case,
  unconstrained way (asr=1).</li>
</ul>
<p>
<font id="text">More detailed explanations : the total energy should be
invariant under translation of the crystal as a whole. This
would guarantee that the three lowest phonon modes at Gamma
have zero frequency (Acoustic Sum Rule - ASR).
Unfortunately, the way the DDB is
generated (presence of a discrete grid of points for the
evaluation of the exchange-correlation potential and energy)
slightly breaks the translational invariance.
Well, in some pathological cases, the breaking can be rather
important.
</font></p>
<p><font id="text">Two quantities are affected : the interatomic forces
(or
dynamical matrices), and the effective charges.
The ASR for the effective charges is called the charge
neutrality sum rule, and will be dealt with by the variable
<a href="anaddb_help.html#chneut">chneut</a>.
The ASR for the interatomic forces can be restored,
by modifying the interatomic force of the atom on itself,
(called self-IFC), as soon as the dynamical matrix at Gamma
is known. This quantity
should be equal to minus the sum of all interatomic
forces generated by all others atoms (action-reaction law!),
which is determined by the dynamical matrix at Gamma.
<p>
So, if <b>asr</b> is non-zero, the correction to the self-force
will be determined, and the self-force will be imposed
to be consistent with the ASR.
This correction will work if IFCs are computed
(<a href="anaddb_help.html#ifcflag">ifcflag</a>/=0),
as well as if the IFCs are not computed
(<a href="anaddb_help.html#ifcflag">ifcflag</a>==0).
In both cases, the phonon frequencies will not be the same
as the ones determined by the output of abinit, RF case.
If you want to check that the DDB is correct, by comparing
phonon frequencies from abinit and anaddb, you should turn off
both <b>asr</b> and
<a href="anaddb_help.html#chneut">chneut</a>.
</font></p>
<p><font id="text">Until now, we have not explained the difference
between
<b>asr</b>=1 and <b>asr</b>=2. This is rather subtle.
In some local low-symmetry
cases (basically the effective charges should be anisotropic),
when the dipole-dipole contribution is evaluated and subtracted,
the ASR cannot be imposed without breaking the
symmetry of the on-site interatomic forces. That explains why two
options are given : the second case (<b>asr</b>=2, sym) does not
entirely impose the ASR, but simply the part that keeps the on-site
interatomic forces symmetric (which means that the acoustic frequencies
do not go to zero exactly), the first case (<b>asr</b>=1, asym)
imposes the ASR, but breaks the symmetry.
<b>asr</b>=2 is to be preferred for the analysis of the interatomic
force
constant in real space, while <b>asr</b>=1 should be used to get
the phonon band structure.
</font></p>
<p><font id="text">(NOTE: in order to confuse even more the situation,
it seems that the acoustic phonon frequencies generated by the code
for both the sym and asym options are exactly the same ...
likely due to an extra symmetrisation in the diagonalisation routine.
Of course, when
the matrix at Gamma has been generated from IFCs coming from dynamical
matrices none of which are Gamma, the breaking of the ASR is rather
severe. In order to clear the situation, one should use
a diagonalisation
routine for non-hermitian matrices. So, at the present status of
understanding, one should always use the <b>asr</b>=2 option ).
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr><font id="title"><a name="atftol">atftol</a></font>
<br>
<font id="definition">Mnemonics: ATomic Temperature Factor TOLerance</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: real </font>
<br>
<font id="default">Default: 0.05</font>
<br>
<br>
<font id="text">The relative tolerance on the atomic temperature
factors.
This number will determine when the series of channel widths
with which the DOS is calculated can be stopped, i.e.
the mean of the relative change going from one grid
to the next bigger is smaller than <b>wtol2</b>.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="atifc">atifc</a></font>
<br>
<font id="definition">Mnemonics: AToms for IFC analysis</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer array <b>atifc</b>(
<a href="anaddb_help.html#natifc">natifc</a>) </font>
<br>
<font id="default">Default: 0 </font>
<br>
<br>
<font id="text">The actual numbers of the atoms for which the
interatomic
force constant have to be written and eventually analysed.
<br>
WARNING: there will be an in-place change of meaning of atifc (this is
confusing,
and should be taken away in one future version - sorry for this).
</font><br>
<br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="band_gap">band_gap</a></font>
<br><font id="definition">Mnemonics: BAND GAP</font>
<br><font id="category">Characteristic: ENERGY </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 999.0</font>
<br><br><font id="text">
	Allow setting the target band gap, in eV.
	(<a href="anaddb_help.html#elphflag">elphflag</a>=1).
</font><br>
<br>
<br>
<br>

<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="a2fsmear">a2fsmear</a></font>
<br>
<font id="definition">Mnemonics: Alpha2F SMEARing factor</font>
<br>
<font id="category">Characteristic: ENERGY </font>
<br>
<font id="vartype">Variable type: real </font>
<br>
<font id="default">Default: 0.00002 </font>
<br>
<br>
<font id="text">Smearing width for the Eliashberg alpha^2F function
(similar to
a phonon DOS), which is sampled on a finite q and k grid. The Dirac
delta
functions in energy are replaced by Gaussians of width a2fsmear
(by default in Hartree).
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="brav">brav</a></font>
<br>
<font id="definition">Mnemonics: BRAVais</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 1</font>
<br>
<br>
<font id="text">Allows to specify the Bravais lattice of the crystal,
in order to help to generate a grid of special q points.
</font>
<p></p>
<ul>
  <font id="text"> <li> 1 =&gt; all the lattices (including FCC, BCC
and hexagonal) </li>
  <li> 2 =&gt; specific for Face Centered lattices </li>
  <li> 3 =&gt; specific for Body Centered lattices </li>
  <li> 4 =&gt; specific for the Hexagonal lattice </li>
  </font>
</ul>
<p>
<font id="text">Note that in the latter case, the rprim of
the unit cell have to be 1.0 0.0 0.0 -.5 sqrt(3)/2 0.0 0.0 0.0 1.0
in order for the code to work properly.
<p> Warning : the generation of q-points in anaddb is rather
 old-fashioned, and should be replaced by routines used by
the main abinit code.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="chneut">chneut</a></font>
<br><font id="definition">Mnemonics: Integer for CHarge NEUTrality treatment </font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer parameter </font>
<br><font id="default">Default is 0. </font>
<br><br><font id="text">
Set the treatment of the Charge Neutrality requirement for
the effective charges.
<p>
<ul>
 <li> chneut=0 => no ASR for effective charges is imposed</li>
 <li> chneut=1 => the ASR for effective charges is imposed
              by giving to each atom an equal portion
              of the missing charge. See Eq.(48) in Phys. Rev. B55, 10355 (1997).</li>
 <li> chneut=2 => the ASR for effective charges is imposed
              by giving to each atom a portion of the
              missing charge proportional to the screening charge
              already present. See Eq.(49) in Phys. Rev. B55, 10355 (1997).</li>
</ul>
<p>
More detailed explanation : the sum of the effective charges
in the unit cell should be equal to zero. It is not the case
in the DDB, and this sum rule is sometimes strongly violated.
In particular, this will make the lowest frequencies at Gamma
non-zero. There is no "best" way of imposing the ASR
on effective charges. 
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="dieflag">dieflag</a></font>
<br><font id="definition">Mnemonics: DIElectric FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Integer. Frequency-dependent dielectric tensor flag.
<br>
<ul>
 <li> 0 => No dielectric tensor is calculated.</li>
 <li> 1 => The frequency-dependent dielectric tensor is calculated.
           Requirements for preceding response-function DDB generation
           run:  electric-field and full atomic-displacement responses.
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> = 1, 2, or 3 (preferably 3).
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a> and
           <a href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a full calculation of
             phonons at Q=0.
  The frequencies are defined by the
<a href="anaddb_help.html#nfreq">nfreq</a>,
<a href="anaddb_help.html#frmin">frmin</a>,
<a href="anaddb_help.html#frmax">frmax</a>
  variables. Also, the generalized Lyddane-Sachs-Teller
  relation will be used as an independent check of the
  dielectric tensor at zero frequency (this for the
  directions defined in the phonon list 2.
See <a href="anaddb_help.html#nph2l">nph2l</a>).</li>
 <li> 2 => Only the electronic dielectric tensor is calculated.
  It corresponds to a zero-frequency homogeneous field,
  with quenched atomic positions. For large band gap materials,
  this quantity is measurable because the highest phonon
  frequency is on the order of a few tenths of eV, and the
  band gap is larger than 5eV. Requirements for preceding response-function
  DDB generation: electric-field response.
  Set <a href="../input_variables/html_automatically_generated/varrf.html#rfelfd">rfelfd</a> = 1 or 3 (preferably 3).
  Note that the same information on the electronic dielectric tensor will be printed in the
  .out file of the <a href="../input_variables/html_automatically_generated/varrf.html#rfelfd">rfelfd</a> run.
</li>
 <li> 3 => Compute and print the relaxed-ion dielectric tensor.
           Requirements for preceding response-function DDB generation
           run:  electric-field and full atomic-displacement responses.
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> = 1, 2, or 3 (preferably 3).
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a> and
           <a href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a full calculation of
             phonons at Q=0 (needed because the inverse of
             force-constant tensor is required). Furthermore, in the anaddb input file the variable
             <a href="anaddb_help.html#nph2l">nph2l</a> must be nonzero in order to initiate
             computation of atomic displacements. If only the dielectric response is needed it
             is sufficient to set <a href="anaddb_help.html#nph2l">nph2l</a> to 1 and leave 
             <a href="anaddb_help.html#qph2l">qph2l</a> at its default value (the Gamma point).
        Note that the relaxed-ion dielectric tensor computed here can
        also be obtained as the zero-frequency limit of the
        frequency-dependent dielectric tensor using input variables
        dieflag=1 and frmin=0.0.  (The results obtained using these two
        approaches should agree to good numerical precision.)  The ability
        to compute and print the static dielectric tensor here is provided
        for completeness and consistency with the other tensor
        quantities that are computed in this section of the code.
 </li>
 <li> 4 => Calculate dielectric tensor of both relaxed ion and
                    free stress.
        We need information of internal strain and elastic tensor (relaxed ion)
        in this computation. So please set:
        <a href="anaddb_help.html#elaflag">elaflag</a>=2,3,4 or 5  and
        <a href="anaddb_help.html#instrflag">instrflag</a>=1
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="dipdip">dipdip</a></font>
<br><font id="definition">Mnemonics: DIPole-DIPole interaction</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 1</font>
<br><br><font id="text">
<ul>
 <li>
  0 => the dipole-dipole interaction is not handled separately
   in the treatment of the interatomic forces. This option
   is available for testing purposes or if effective charge
   and/or dielectric tensor is not available in the derivative
   database. It gives results much less accurate than <b>dipdip</b>=1.</li>
 <li>
  1 => the dipole-dipole interaction is subtracted from the dynamical
   matrices before Fourier transform, so that only the short-range
   part is handled in real space. Of course, it is reintroduced
   analytically when the phonon spectrum is interpolated, or if
   the interatomic force constants have to be analysed in real space.</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>
<font id="title"><a name="dosdeltae">dosdeltae</a></font>
<br><font id="definition">Mnemonics: DOS DELTA in Energy</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 4.5E-06 Hartree = 1 cm<sup>-1</sup> </font>
<br><br><font id="text">
The input variable <b>dosdeltae</b> is used to define the step of the frequency grid used to
calculate the phonon density of states when <a href="anaddb_help.html#prtdos">prtdos</a>=1.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>
<font id="title"><a name="dossmear">dossmear</a></font>
<br><font id="definition">Mnemonics: DOS SMEARing value </font>
<br><font id="category">Characteristic: Energy </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 4.5E-05 Hartree = 10 cm<sup>-1</sup></font>
<br><br><font id="text">
<b>dossmear</b> defines the gaussian broadening used to calculate the phonon density
of states when <a href="anaddb_help.html#prtdos">prtdos</a>=1.
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="dostol">dostol</a></font>
<br><font id="definition">Mnemonics: DOS TOLerance</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 0.25</font>
<br><br><font id="text">
The relative tolerance on the phonon density of state.
This number will determine when the series of grids
with which the DOS is calculated can be stopped, i.e.
the mean of the relative change going from one grid
to the next bigger is smaller than <b>dostol</b>.
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="dossum">dossum</a></font>
<br><font id="definition">Mnemonics: DOS SUM</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Set the flag to calculate the two phonon dos density of states. Sum and Difference for
the Gamma point. The DOS is converged and based on that, the sum and different is
reported in the output file <b>dossum</b>.
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="eivec">eivec</a></font>
<br><font id="definition">Mnemonics: EIgenVECtors</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
<ul>
 <li> 0 => do not write the phonon eigenvectors;</li>
 <li> 1 or 2 => write the phonon eigenvectors;</li>
 <li> 4 => generate output files for band2eps (drawing tool for the phonon band structure);</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="elaflag">elaflag</a></font>
<br><font id="definition">Mnemonics: ELAstic tensor FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Flag for calculation of elastic and compliance tensors
<ul>
 <li>0 => No elastic or compliance tensor will be calculated.</li>
 <li>1 => Only clamped-ion elastic and compliance tensors will be
           calculated.
           Requirements for preceding response-function DDB generation
           run:  Strain perturbation.
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> to 1, 2, or 3.
           Note that <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a>=3 is recommended so that responses to
           both uniaxial and shear strains will be computed.
   </li>
 <li>2 => Both relaxed- and clamped-ion elastic and compliance tensor
           will be calculated, but only the relaxed-ion quantities
           will be printed.
          The input variable <a href="anaddb_help.html#instrflag">instrflag</a>
           should also be set to 1, because
           the internal-strain tensor is needed to compute the relaxed-ion
           corrections.  Requirements for preceding response-function DDB
           generation run:  Strain and atomic-displacement responses at Q=0.
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> = 1, 2, or 3 (preferably 3).
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a> and
           <a href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a full calculation of
             phonons at Q=0 (needed because the inverse of
             force-constant tensor is required).
   </li>
 <li>3 =>  Both relaxed and clamped-ion elastic and compliance tensors
           will be printed out.
           The input variable <a href="anaddb_help.html#instrflag">instrflag</a>
            should also be set to 1.
           Requirements for preceding response-function DDB generation
           run:  Same as for <b>elaflag</b>=2.
   </li>
 <li>4 => Calculate the elastic and compliance tensors (relaxed ion)
         at fixed displacement field, the relaxed-ion tensors at fixed
         electric field will be printed out too, for comparison.
         When <b>elaflag</b>=4, we need the information of internal strain and
        relaxed-ion dielectric tensor to build the whole tensor, so
        we need set <a href="anaddb_help.html#instrflag">instrflag</a>=1 and
        <a href="anaddb_help.html#dieflag">dieflag</a>=3 or 4 .
   </li>
 <li>5 => Calculate the relaxed ion elastic and compliance tensors, considering
        the stress left inside cell. At the same time, bare relaxed ion tensors
        will still be printed out for comparison.
        In this calculation, stress tensor is needed to compute the correction
        term, so one supposed to merge the first order derivative data base (DDB file)
        with the second order derivative data base (DDB file) into a new DDB file, which
        can contain both information. And the program will also check for the users.
   </li>
</ul>
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="elphflag">elphflag</a></font>
<br><font id="definition">Mnemonics: ELectron-PHonon FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If <b>elphflag</b> is 1, anaddb performs an analysis of the electron-phonon coupling.
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="elphsmear">elphsmear</a></font>
<br><font id="definition">Mnemonics: ELectron-PHonon SMEARing factor</font>
<br><font id="category">Characteristic: ENERGY </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 0.01 Hartree</font>
<br><br><font id="text">
Smearing width for the Fermi surface integration (in Hartree by default).
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="elph_fermie">elph_fermie</a></font>
<br><font id="definition">Mnemonics: ELectron-PHonon FERMI Energy</font>
<br><font id="category">Characteristic: ENERGY </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 0.0</font>
<br><br><font id="text">
If non-zero, will fix artificially the value of the Fermi energy
(e.g. for semiconductors), in the electron-phonon case. Note that elph_fermie and <a href="#ep_extrael">ep_extrael</a> 
should not be used at the same time.
(<a href="anaddb_help.html#elphflag">elphflag</a>=1).
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="enunit">enunit</a></font>
<br><font id="definition">Mnemonics: ENergy UNITs</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Give the energy for the phonon frequency output
(in the output file, not in the console log file, for
 which Hartree units are used).
<br>
<ul>
 <li> 0 => Hartree and cm-1;</li>
 <li> 1 => meV and Thz;</li>
 <li> 2 => Hartree, cm-1, meV, Thz, and Kelvin.</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_b_max">ep_b_max</a></font>
<br><font id="definition">Mnemonics: Electron Phonon integration Band MAXimum</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
	When set, and <a href=#telphint>telphint</a> is equal to 2, this variable determines the k-point integration weights which are used in the electron-phonon part of the code. Instead of weighting according to a distance from the Fermi surface, an equal weight is given to all k-points, for all bands between <a href=#ep_b_min>ep_b_min</a> and ep_b_max.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_b_min">ep_b_min</a></font>
<br><font id="definition">Mnemonics: Electron Phonon integration Band MINimum</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
	As for <a href=#ep_b_max>ep_b_max</a>, but ep_b_min is the lower bound on the band integration, instead of the upper bound. See also  <a href=#telphint>telphint</a>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_extrael">ep_extrael</a></font>
<br><font id="definition">Mnemonics: Electron-Phonon EXTRA ELectrons</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 0.0</font>
<br><br><font id="text">
	If non-zero, will fix artificially the number of extra electrons per unit cell (positive for electron doping), according to a doped case.
	(e.g. for semiconductors), in the electron-phonon case. This field can also be filled with doping concentration, in the units of cm-3 (negative for electron doping). Note that ep_extrael and <a href="#elph_fermie">elph_fermie</a> should not be used at the same time.
	(<a href="anaddb_help.html#elphflag">elphflag</a>=1).
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_int_gkk">ep_int_gkk</a></font>
<br><font id="definition">Mnemonics: Electron-Phonon INTerpolation of GKK</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
This flag determines whether the interpolation of the electron-phonon matrix
elements over the coarse k-grid is done (<b>ep_int_gkk</b> 1) before summing 
with appropriate Fermi Surface weights. In this way, the two integration weights 
are treated symmetrically.
</font><br>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_keepbands">ep_keepbands</a></font>
<br><font id="definition">Mnemonics: Electron-Phonon KEEP dependence on electron BANDS</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
This flag determines whether the dependency of the electron-phonon matrix
elements on the electron band index is kept (<b>ep_keepbands</b> 1), or whether
it is summed over immediately with appropriate Fermi Surface weights. For
transport calculations <b>ep_keepbands</b> must be set to 1.
</font><br>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_nqpt">ep_nqpt</a></font>
<br><font id="definition">Mnemonics: Electron Phonon Number of Q PoinTs</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
In case a non-uniform grid of q-points is being used, for direct calculation
of the electron-phonon quantities without interpolation, this specifies the
number of q-points to be found in the GKK file, independently of the normal
anaddb input (ngqpt)
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_nspline">ep_nspline</a></font>
<br><font id="definition">Mnemonics: Electron Phonon Number for SPLINE interpolation </font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 20</font>
<br><br><font id="text">
	The scale factor for cubic spline interpolation, only used in the relaxation time approximation (<b>ifltransport=3</b>).
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_prt_yambo">ep_prt_yambo</a></font>
<br><font id="definition">Mnemonics: Electron Phonon PRinTout YAMBO data</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
For electron-phonon calculations, print out matrix elements for use by the yambo code.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ep_qptlist">ep_qptlist</a></font>
<br><font id="definition">Mnemonics: Electron Phonon Q PoinT LIST</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real array of 3*ep_nqpt elements </font>
<br><font id="default">Default: *0</font>
<br><br><font id="text">
In case a non-uniform grid of q-points is being used, for direct calculation
of the electron-phonon quantities without interpolation, this specifies the
q-points to be found in the GKK file, independently of the normal
anaddb input (ngqpt), in reduced coordinates of the reciprocal space lattice.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>
<font id="title"><a name="ep_scalprod">ep_scalprod</a></font>
<br><font id="definition">Mnemonics: DO SCALar PRODuct for gkk matrix elements</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0 </font>
<br><br><font id="text">
The input variable <b>ep_scalprod</b> is a flag determining whether the scalar
product of the electron-phonon matrix elements (gkk) with the phonon
displacement vectors is done before or after interpolation. Doing so before
(<b>ep_scalprod</b> 1) makes phonon linewidths smoother but introduces an error,
as the interpolated phonons and gkk are not diagonalized in the same basis.
Doing so afterwards (<b>ep_scalprod</b> 0) eliminates the diagonalization error,
but sometimes gives small spikes in the phonon linewidths near band crossings
or high symmetry points. I do not know why...
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="freeze_displ">freeze_displ</a></font>
<br><font id="definition">Mnemonics: FREEZE DISPLacement of phonons into supercells</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real number </font>
<br><font id="default">Default: 0.0</font>
<br><br><font id="text">
If different from zero, <b>freeze_displ</b> will be used as the amplitude of a phonon displacement.
For each q-point and mode in the <a href="anaddb_help.html#qph1l">qph1l</a> list,
a file will be created containing a supercell
of atoms with the corresponding phonon displacements frozen in.
This is typically useful to freeze a soft phonon mode, then let it relax in abinit
afterwards.
<br>
<b>freeze_displ</b> is unitless, but has a physical meaning: it is related to the Bose
distribution n_B and the frequency w_qs of the phonon mode. At a given temperature T,
<b>freeze_displ</b> will give the mean square displacement of atoms (along with the displacement
vectors, which are in Bohr). In atomic units <b>freeze_displ</b> = sqrt((0.5 + n_B(w_qs/kT) / w_qs)
Typical values are 50-200 for a frequency of a few hundred cm-1 and room temperature. If all you want
is to break the symmetry in the right direction, any reasonable value (10-50) should be ok.
<br>
<b>WARNING</b>: this will create a <i>lot</i> of files (3*natom*nph1l), so it should be used with a small number
<a href="anaddb_help.html#nph1l">nph1l</a> of q-points for interpolation.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="frmax">frmax</a></font>
<br><font id="definition">Mnemonics: FRequency : MAXimum</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real number </font>
<br><font id="default">Default: 10.0</font>
<br><br><font id="text">
Value of the largest frequency for the
frequency-dependent dielectric tensor, in Hartree.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="frmin">frmin</a></font>
<br><font id="definition">Mnemonics: FRequency : MINimum</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real number </font>
<br><font id="default">Default: 0.0</font>
<br><br><font id="text">
Value of the lowest frequency for the
frequency-dependent dielectric tensor, in Hartree.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="gkqwrite">gkqwrite</a></font>
<br><font id="definition">Mnemonics: GKk for input Q grid to be WRITtEn to disk</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Flag to write out the reciprocal space matrix elements to a disk file named
gkqfile. This reduces strongly the memory needed for an electron-phonon run.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="iavfrq">iavfrq</a></font>
<br><font id="definition">Mnemonics: Integer for the printing of AVerage FReQuency</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Used only when <a href="anaddb_help.html#thmflag">thmflag</a>=1.<br>
When this flag is set to 1, the "average frequency" is printed out (as a
function of temperature, with phonon internal energy, free energy, entropy, ...).
The average frequency is defined as:<br>
Omega_average = Sum_over_q_and_i [Cv_iq Omega_iq]/Cv<br>
where<br>
- Omega_iq is the frequency of the ith mode for q-point q<br>
- Cv is the specific heat<br>
- Cv_iq is the contribution to the specific heat of the ith mode for q-point q<br>
The "average frequency" can be used to have an estimation of the average
Gruneisen parameter: Gamma_average=-d(log(Omega_average))/d(log(V)).<br>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>




<font id="title"><a name="iatfix">iatfix</a></font>
<br><font id="definition">Mnemonics: Indices of the AToms that are FIXed</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array (1:<a href="anaddb_help.html#natfix">natfix</a>) </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Indices of the atoms that are fixed during a structural relaxation at constrained polarization.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="iatprj_bs">iatprj_bs</a></font>
<br><font id="definition">Mnemonics: Indices of the AToms for the PRoJection of the phonon Band Structure</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array (1:<a href="anaddb_help.html#natprj_bs">natprj_bs</a>) </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Indices of the atoms that are chosen for projection of the phonon eigenvectors, giving a weighted phonon band structure file.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ifcana">ifcana</a></font>
<br><font id="definition">Mnemonics: IFC ANAlysis</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
<ul>
 <li> 0 => no analysis of interatomic force constants; </li>
 <li> 1 => analysis of interatomic force constants.
</ul>

<p> If the analysis is activated, one get the
trace of the matrices between pairs of atoms,
if <a href="anaddb_help.html#dipdip">dipdip</a> is 1,
get also the trace of the short-range
and electrostatic part, and
calculate the ratio with the full matrix;
then define a local coordinate reference (using
the next-neighbour coordinates), and express
the interatomic force constant matrix between
pairs of atoms in that local coordinate reference
(the first vector is along the bond; the second
vector is along the perpendicular force exerted
on the generic atom by a longitudinal displacement
of the neighbouring atom - in case it does not vanish;
the third vector is perpendicular to the two other)
also calculate ratios with respect to the
longitudinal force constant ( the (1,1) element of
the matrix in local coordinates).
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ifcflag">ifcflag</a></font>
<br><font id="definition">Mnemonics: Interatomic Force Constants FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
<ul>
<li> 0 => do all calculations directly from the DDB, without the
                  use of the interatomic force constant.</li>
<li> 1 => calculate and use the interatomic force constants
               for interpolating the phonon spectrum and dynamical
               matrices at every q wavevector, and eventually analyse
               the interatomic force constants, according to the
               informations given by
<a href="anaddb_help.html#atifc">atifc</a>,
<a href="anaddb_help.html#dipdip">dipdip</a>,
<a href="anaddb_help.html#ifcana">ifcana</a>,
<a href="anaddb_help.html#ifcout">ifcout</a>,
<a href="anaddb_help.html#natifc">natifc</a>,
<a href="anaddb_help.html#nsphere">nsphere</a>,
<a href="anaddb_help.html#rifcsph">rifcsph</a>.</li>
</ul>
          More detailed explanations: if the dynamical matrices
          are known on a regular set of wavevectors, they
          can be used to get the interatomic forces, which are simply
          their Fourier transform. When non-analyticities
          can been removed by the use of effective charge at Gamma
          (option offered by putting
<a href="anaddb_help.html#dipdip">dipdip</a> to 1),
          the interatomic forces are known to decay rather fast (in real space).
          The interatomic forces generated from a small set of
          dynamical matrices
          could be of sufficient range to allow
          the remaining interatomic forces to be neglected.
          This gives a practical way to interpolate the content
          of a small set of dynamical matrices, because dynamical
          matrices can everywhere be generated starting from this
          set of interatomic force constants. It is suggested to
          always use <b>ifcflag</b>=1. The <b>ifcflag</b>=0 option
is available for
checking purpose, and if there is not enough information
in the DDB.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ifcout">ifcout</a></font>
<br><font id="definition">Mnemonics: IFC OUTput</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
For each atom in the list
<a href="anaddb_help.html#atifc">atifc</a> (generic atoms),
<b>ifcout</b> give the number
of neighbouring atoms for which the ifc's will be
output (written) and eventually analysed. The
neighbouring atoms are selected by decreasing distance with respect to
the generic atom.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ifltransport">ifltransport</a></font>
<br><font id="definition">Mnemonics: IFLag for TRANSPORT</font>
<br><font id="category">Characteristic: </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
if ifltransport=1 (LOVA) or ifltransport=2 (non-LOVA), anaddb calculates the transport
properties: electrical and thermal resistivities from electron-phonon
interactions in the variational approach. If ifltransport=3, anaddb calculates the 
k-dependent relaxation time. (needs</font><font id="text"> <a
 href="anaddb_help.html#elphflag">elphflag</a> = 1)
 </font>

<br><br><br><br><a href="anaddb_help.html#top">Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="instrflag">instrflag</a></font>
<br><font id="definition">Mnemonics: INternal STRain FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Internal strain tensor flag.
<br>
<ul>
 <li> 0 => No internal-strain calculation.</li>
 <li> 1 => Print out both force-response and displacement-response
           internal-strain tensor.
           Requirements for preceding response-function DDB generation
           run:  Strain and full atomic-displacement responses.
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> = 1, 2, or 3 (preferably 3).
           Set <a href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a> and
           <a href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a full calculation of
             phonons at Q=0.
  </li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="istrfix">istrfix</a></font>
<br><font id="definition">Mnemonics: Index of STRain FIXed</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array istrfix(1:<a href="anaddb_help.html#nstrfix">nstrfix</a>)</font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Indices of the elements of the strain tensor that are fixed during a structural relaxation
at constrained polarisation :

<ul>
  <li>0 =&gt; No elastic or compliance tensor will be calculated.</li>
  <li>1 =&gt; Only clamped-ion elastic and compliance tensors will be
calculated. Requirements for preceding response-function DDB generation
run: Strain perturbation. Set <a
 href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> to 1, 2, or 3.
Note that <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a>=3
is recommended so that responses to both uniaxial and shear strains
will be computed. </li>
  <li>2 =&gt; Both relaxed- and clamped-ion elastic and compliance
tensor will be calculated, but only the relaxed-ion quantities will be
printed. The input variable <a href="anaddb_help.html#instrflag">instrflag</a>
should also be set to 1, because the internal-strain tensor is needed
to compute the relaxed-ion corrections. Requirements for preceding
response-function DDB generation run: Strain and atomic-displacement
responses at Q=0. Set <a href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a>
= 1, 2, or 3 (preferably 3). Set <a
 href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a>rfatpol and <a
 href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a full
calculation of phonons at Q=0 (needed because the inverse of
force-constant tensor is required). </li>
  <li>3 =&gt; Both relaxed and clamped-ion elastic and compliance
tensors will be printed out. The input variable <a
 href="anaddb_help.html#instrflag">instrflag</a> should also be set to
1. Requirements for preceding response-function DDB generation run:
Same as for <b>elaflag</b>=2'. </li>
  <li>4 =&gt; Calculate the elastic and compliance tensors (relaxed
ion) at fixed displacement field, the relaxed-ion tensors at fixed
electric field will be printed out too, for comparison. When <b>elaflag</b>=4,
we need the information of internal strain and relaxed-ion dielectric
tensor to build the whole tensor, so we need set <a
 href="anaddb_help.html#instrflag">instrflag</a>=1 and <a
 href="anaddb_help.html#dieflag">dieflag</a>=3 or 4 . </li>
  <li>5 =&gt; Calculate the relaxed ion elastic and compliance tensors,
considering the stress left inside cell. At the same time, bare relaxed
ion tensors will still be printed out for comparison. In this
calculation, stress tensor is needed to compute the correction term, so
one supposed to merge the first order derivative data base (DDB file)
with the second order derivative data base (DDB file) into a new DDB
file, which can contain both information. And the program will also
check for the users. </li>
</ul>
See <a href="anaddb_help.html#polflag">polflag</a>.
</font>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="kptrlatt">kptrlatt</a></font>
<br>
<font id="definition">Mnemonics: K PoinT Reciprocal LATTice</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 9*0 </font>
<br>
<br>
<font id="text">Un normalized lattice vectors for the k-point grid in reciprocal space
(see <a href="../input_variables/html_automatically_generated/vargs.html#kptrlatt">abinit variable definition</a>as well).
Input needed in electron-phonon calculations
using nesting functions or tetrahedron integration. 
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="kptrlatt_fine">kptrlatt_fine</a></font>
<br>
<font id="definition">Mnemonics: K PoinT Reciprocal LATTice for FINE grid</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 9*0 </font>
<br>
<br>
<font id="text">As kptrlatt above, but for a finer grid of k-points. Under development. Does not
work yet, as of June 2010.
</font><br>
<br>
<br>
<br>

<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="mustar">mustar</a></font>
<br>
<font id="definition">Mnemonics: MU STAR</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: real </font>
<br>
<font id="default">Default: 0.1 </font>
<br>
<br>
<font id="text">Average electron-electron interaction strength, for the
computation of the
superconducting Tc using Mc-Millan's formula.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="natfix">natfix</a></font>
<br>
<font id="definition">Mnemonics: Number of AToms FIXed</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">Number of atoms that are fixed during a structural
optimisation at constrained polarization.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input variables</a>

<hr><font id="title"><a name="natifc">natifc</a></font>
<br>
<font id="definition">Mnemonics: Number of AToms for IFC analysis</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0 </font>
<br>
<br>
<font id="text">Give the number of atoms for which ifc's are written
and
eventually analysed. The list of these atoms is provided
by <a href="anaddb_help.html#atifc">atifc</a>
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="natprj_bs">natprj_bs</a></font>
<br>
<font id="definition">Mnemonics: Number of AToms for PRoJection of the Band Structure</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0 </font>
<br>
<br>
<font id="text">Give the number of atoms for which atomic-projected phonon
band structures will be output. The list of these atoms is provided
by <a href="anaddb_help.html#iatprj_bs">iatprj_bs</a>
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="nchan">nchan</a></font>
<br><font id="definition">Mnemonics: Number of CHANnels</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 800</font>
<br><br><font id="text">
The number of channels of width 1 cm-1
used in calculating the
phonon density of states through the histogram method,
or, equivalently, the largest frequency sampled.
The first channel begins at 0.

</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="ndivsm">ndivsm</a></font>
<br><font id="definition">Number of DIVisions for the SMallest segment</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 20</font>
<br><br><font id="text">

This variable defines the number of divisions used to sample the smallest segment of the q-path used 
for the phonon band structure.
If ndivsm is specified in the input file, the code will automatically generate the points along the path 
using the coordinates given in the array <a href="anaddb_help.html#qpath">qpath</a>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nfreq">nfreq</a></font>
<br><font id="definition">Mnemonics: Number of FREQuencies</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 1</font>
<br><br><font id="text">
Number of frequencies wanted for the
frequency-dependent dielectric tensor. Should be positive.
See <a href="anaddb_help.html#dieflag">dieflag</a>.

The code will take <b>nfreq</b> equidistant values from
<a href="anaddb_help.html#frmin">frmin</a> to
<a href="anaddb_help.html#frmax">frmax</a>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ngqpt">ngqpt</a></font>
<br><font id="definition">Mnemonics: Number of Grids points for Q PoinTs</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array <b>ngqpt</b>(3) </font>
<br><font id="default">Default: 3*0 (will not work)</font>
<br><br><font id="text">
The Monkhorst-Pack grid linear dimensions, for the DDB (coarse grid).
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ng2qpt">ng2qpt</a></font>
<br><font id="definition">Mnemonics: Number of Grids points for Q PoinTs (grid 2)</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array <b>ng2qpt</b>(3) </font>
<br><font id="default">Default: 3*0 (will not work)</font>
<br><br><font id="text">
The Monkhorst-Pack grid linear dimensions, for the finer of the
series of fine grids. Used for the integration
of thermodynamical functions (Bose-Einstein distribution)
or for the DOS.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="ngrids">ngrids</a></font>
<br>
<font id="definition">Mnemonics: Number of GRIDS</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 4</font>
<br>
<br>
<font id="text">This number define the series of grids that will be
used
for the estimation of the phonon DOS. The coarsest will be
tried first, then the next, ... then the one
described by
<a href="anaddb_help.html#ng2qpt">ng2qpt</a>.
The intermediate grids are defined
for igrid=1... <b>ngrids</b>,
by the numbers ngqpt_igrid(ii)=(ng2qpt(ii)*igrid)/<b>ngrids</b>
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nlflag">nlflag</a></font>
<br><font id="definition">Mnemonics: Non-Linear FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Non-linear properties flag.
<ul>
  <li>0 => do not compute non-linear properties ;</li>
  <li>1 => the electrooptic tensor, Raman susceptibilities and non-linear optical
    susceptibilities are calculated;</li>
  <li>2 => only the non-linear optical susceptibilities and first-order
    changes of the dielectric tensor induced by an atomic displacement are calculated;</li>
</ul>
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nph1l">nph1l</a></font>
<br><font id="definition">Mnemonics: Number of PHonons in List 1</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
The number of wavevectors in phonon list 1, used for interpolation of the phonon frequencies. The 
values of these wavevectors will be specified by
<a href="anaddb_help.html#qph1l">qph1l</a>
The dynamical matrix for these wavevectors, obtained
either directly from the DDB - if
<a href="anaddb_help.html#ifcflag">ifcflag</a>=0 - or through
the interatomic forces interpolation - if
<a href="anaddb_help.html#ifcflag">ifcflag</a>=1 -),
will be diagonalized, and the corresponding eigenfrequencies
will be printed.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nph2l">nph2l</a></font>
<br><font id="definition">Mnemonics: Number of PHonons in List 2</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
The number of wavevectors in phonon list 2, defining the directions
along which the non-analytical splitting of phonon frequencies
at Gamma will be calculated. The actual
values of the wavevector directions will be specified
by <href="anaddb_help.html#qph2l">qph2l</a>.
These are actually all wavectors at Gamma, but obtained
by a limit along a different direction in the Brillouin-zone.
It is important to note that non-analyticities in the
dynamical matrices are present at Gamma, due to the
long-range Coulomb forces. So, going to Gamma along different
directions can give different results.
<p>
The wavevectors in list 2 will be used to :
<br>

- generate and diagonalize a dynamical matrix, and print the
            corresponding eigenvalues.

<br>

- calculate the generalized Lyddane-Sachs-Teller relation.
          Note that if the three first numbers are zero, then
          the code will do a calculation at Gamma without
          non-analyticities.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nqpath">nqpath</a></font>
<br><font id="definition">Mnemonics: Number of Q wavevectors defining a PATH</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">

Number of q-points in the array <a href="anaddb_help.html#qpath">qpath</a>
defining the path along which the phonon band structure and phonon linewidths
are interpolated.
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nqshft">nqshft</a></font>
<br><font id="definition">Mnemonics: Number of Q SHiFTs</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 1</font>
<br><br><font id="text">
The number of vector shifts of the simple Monkhorst and
Pack grid, needed to generate the coarse grid of q points
(for the series of fine grids, the number of shifts it is always taken to be 1).
Usually, put it to 1.
Use 2 if BCC sampling (Warning : not BCC lattice, BCC *sampling*),
and 4 for FCC sampling (Warning : not FCC lattice, FCC *sampling*).
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="nsphere">nsphere</a></font>
<br>
<font id="definition">Mnemonics: Number of atoms in SPHERe</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">Number of atoms included in the cut-off sphere for
interatomic force constant, see also the alternative <a
 href="anaddb_help.html#rifcsph">rifcsph</a>.
If <b>nsphere</b>= 0 : maximum extent allowed by the grid .
</font>
<p><font id="text">This number defines the atoms for which the
short range part of the interatomic force constants, after
imposition of the acoustic sum rule, will not be put to zero.
This option is available for testing purposes
(evaluate the range of the interatomic force constants), because
the acoustic sum rule will be violated if some atoms are no more
included in the inverse Fourier Transform.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr><font id="title"><a name="nstrfix">nstrfix</a></font>
<br>
<font id="definition">Mnemonics: Number of STRain components FIXed</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer</font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">Number of strain component that are fixed during a
structural optimisation at constrained polarization.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="ntemper">ntemper</a></font>
<br>
<font id="definition">Mnemonics: Number of TEMPERatures</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 10</font>
<br>
<br>
<font id="text">Number of temperatures at which the thermodynamical
quantities have to be evaluated. Now also used for the output of transport
quantities in electron-phonon calculations. The full grid is specified
with the <a href="anaddb_help.html#tempermin">tempermin</a> and 
<a href="anaddb_help.html#temperinc">temperinc</a> variables.
The default temperature grid goes from 100K to 1000K by step of 100K. For the largest temperatures, for most solids, anharmonic effects not accounted in the harmonic approximation implemented in anaddb will be important. For weakly bounded systems (e.g. Van der Waals solids), such anharmonic effects might be important already at room temperature.

</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="nwchan">nwchan</a></font>
<br><font id="definition">Mnemonics: Number of Widths of CHANnels</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 10</font>
<br><br><font id="text">
Integer. The width of the largest channel
used to sample the frequencies.
The code will generate different sets of channels,
with decreasing widths (by step of 1 cm-1), from
this channel width to 1, eventually. It considers to
have converged when the convergence criterion based on
<a href="anaddb_help.html#dostol">dostol</a> and
<a href="anaddb_help.html#thmtol">thmtol</a> have been fulfilled.
</font><br>
<br>
<br>
<br>

<font id="title"><a name="outscphon">outscphon</a></font>
<br><font id="definition">Mnemonics: OUTput files for Self Consistent PHONons</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If set to 1, the phonon frequency and eigenvector files needed for a Self Consistent
phonon run (as in Souvatzis PRL <b>100</b> 095901) will be output to files appended _PHFRQ and _PHVEC.
The third file needed is appended _PCINFO for Primitive Cell INFOrmation.
</font><br>
<br><br><br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="outboltztrap">outboltztrap</a></font>
<br><font id="definition">Mnemonics: OUTput files for BOLTZTRAP code</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If set to 1, the phonon frequencies on the ngqpt grid are output in a format legible by the BoltzTrap code,
which does band interpolation and gets group velocities. The output file will be appended _BTRAP
</font><br>
<br><br><br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<hr><font id="title"><a name="piezoflag">piezoflag</a></font>
<br>
<font id="definition">Mnemonics: PIEZOelectric tensor FLAG</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">Flag for calculation of piezoelectric tensors
<ul>
  <li>0 =&gt; No piezoelectric tensor will be calculated.</li>
  <li>1 =&gt; Only the clamped-ion piezoelectric tensor is computed and
printed. Requirements for preceding response-function DDB generation
run: Strain and electric-field responses. For the electric-field part,
one needs results from a prior 'ddk perturbation' run. Note that even
if only a limited number of piezoelectric tensor terms are wanted (as
determined by rfstrs and rfdir in this calculation) it is necessary to
set rfdir = 1 1 1 in the d/dk calculation for most structures. The only
obvious exception to this requirement is cases in which the primitive
lattice vectors are all aligned with the cartesian axes. The code will
omit terms in the output piezoelectric tensor for which the available
d/dk set is incomplete. Thus: Set <a
 href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> to 1, 2, or 3i
(preferably 3) </li>
  <li>2 =&gt; Both relaxed- and clamped-ion elastic and compliance
tensor will be calculated, but only the relaxed-ion quantities will be
printed. The input variable <a href="anaddb_help.html#instrflag">instrflag</a>
should also be set to 1, because the internal-strain tensor is needed
to compute the relaxed-ion corrections. Requirements for preceding
response-function DDB generation run: Strain, electric-field and full
atomic-displacement responses at Q=0. Set <a
 href="../input_variables/html_automatically_generated/varrf.html#rfstrs">rfstrs</a> = 1, 2, or 3
(preferably 3). Set <a href="../input_variables/html_automatically_generated/varrf.html#rfelfd">rfelfd</a>
= 3. Set <a href="../input_variables/html_automatically_generated/varrf.html#rfatpol">rfatpol</a>
and <a href="../input_variables/html_automatically_generated/varrf.html#rfdir">rfdir</a> to do a
full calculation of phonons at Q=0 (needed because the inverse of
force-constant tensor is required). </li>
  <li>3 =&gt; Both relaxed and clamped-ion piezoelectric tensors will
be printed out. The input variable <a href="anaddb_help.html#instrflag">instrflag</a>
should also be set to 1. Requirements for preceding response-function
DDB generation run: Same as for <b>piezoflag</b>=2. </li>
  <li>4 =&gt; Calculate the piezoelectric d tensor (relaxed ion). In
order to calculate the piezoelectric d tensor, we need information of
internal strain and elastic tensor (relaxed ion). So we should set <a
 href="anaddb_help.html#elaflag">elaflag</a>= 2,3,4, or 5 and <a
 href="anaddb_help.html#instrflag">instrflag</a>=1. The subroutine will
also do a check for you, and print warning message without stopping
even if flags were not correctly set. </li>
  <li>5 =&gt; Calculate the piezoelectric g tensor (relaxed ion). In
this computation, we need information of internal strain, elastic
tensor (relaxed ion) and dielectric tensor (relaxed ion). So we should
set: <a href="anaddb_help.html#instrflag">instrflag</a>=1, <a
 href="anaddb_help.html#elaflag">elaflag</a>=2,3,4 or 5, <a
 href="anaddb_help.html#dieflag">dieflag</a>=3 or 4. The subroutine
will also do a check for you, and print warning message without
stopping even if flags were not correctly set. </li>
  <li>6 =&gt; Calculate the piezoelectric h tensor (relaxed ion). In
this calculation, we need information of internal strain and dielectric
tensor (relaxed ion). So we need set: <a
 href="anaddb_help.html#instrflag">instrflag</a>=1 and <a
 href="anaddb_help.html#dieflag">dieflag</a>=3 or 4. The subroutine
will also do a check for you, and print warning message without
stopping even if flags were not correctly set. </li>
  <li>7 =&gt; calculate all the possible piezoelectric tensors,
including e (clamped and relaxed ion), d, g and h tensors. The flags
should be set to satisfy the above rules from 1 to 6.</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="polflag">polflag</a></font>
<br><font id="definition">Mnemonics: POLarization FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If activated, compute polarization in cartesian coordinates,
and update lattice constants and atomic positions in order to perform a structural
optimization at constrained polarization.
<p>
More detailed explanation : ANADDB can use the formalism described in
Na Sai et al, PRB 66, 104108 (2002), to perform structural relaxations
under the constraint that the polarization is equal to a value specified by the
input variable <a href="anaddb_help.html#targetpol">targetpol</a>.
The user starts from a given configuration of a crystal and performs
a ground-state calculation of the Hellman-Feynman forces and stresses
and the Berry phase polarization as
well as a linear response calculation of the whole matrix of
second-order energy derivatives with respect to atomic displacement,
strains and electric field.
<br>
In case <b>polflag</b>=1, ANADDB solves the linear system of equations
(13)
of the Na Sai paper, and computes new atomic positions (if <a
 href="anaddb_help.html#relaxat">relaxat</a>=1) and
lattice constant (if <a href="anaddb_help.html#relaxstr">relaxstr</a>=1).
Then, the user uses these parameters to perform a new ground-state
and linear-response calculation. This must be repeated until
convergence is
reached. The user can also fix some atomic positions, or strains,
thanks to the input variables
<a href="anaddb_help.html#natfix">natfix</a>,
<a href="anaddb_help.html#nstrfix">nstrfix</a>,
<a href="anaddb_help.html#iatfix">iatfix</a>,
<a href="anaddb_help.html#istrfix">istrfix</a>.
<br>
In case both <a href="anaddb_help.html#relaxat">relaxat</a>
and <a href="anaddb_help.html#relaxstr">relaxstr</a> are 0, while
<b>polflag</b>=1, ANADDB only computes the polarization in cartesian
coordinates.
</font></p>
<p><font id="text">As described in the Na Sai's paper, it is important
to use the
finite difference expression of the ddk (<a
 href="../input_variables/html_automatically_generated/varff.html#berryopt">berryopt</a>=2 or -2)
in the linear response calculation of the effective charges and the
piezoelectric tensor.
</font><br>
<br>
<br>
<br>

<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prtdos">prtdos</a></font>
<br>
<font id="definition">Mnemonics: PRinT the phonon Density Of States</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default : 0</font>
<br>
<br>
<p>
<font id="text"> The <b>prtdos</b> variable is used to calculate
the phonon density of states, PHDOS, by Fourier interpolating the interatomic force
constants on the (dense) q-mesh defined by <a href="anaddb_help.html#ng2qpt">ng2qpt</a>.
Note that the variable <a href="anaddb_help.html#ifcflag">ifcflag</a> must be set to 1
since the interatomic force constants are supposed to be known.
<p>
The available options are:</font>
<ul>
<font id="text">
 <li>0 =&gt; no output of PHDOS (default);</li>
 <li>1 =&gt; calculate PHDOS using the gaussian method and the broadening defined
 by <a href="anaddb_help.html#dossmear">dossmear</a>. </li>
 <!--<li>2 =&gt; use tetrahedron method. </li>-->
</font>
</ul>

The step of the frequency grid employed to calculate the DOS
can be defined through the input variable <a href="anaddb_help.html#dosdeltae">dosdeltae</a>.
</font>
<br>
<br>
<br>
<br>

<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prtbltztrp">prtbltztrp</a></font>
<br>
<font id="definition">Mnemonics: PRinT input files for BoLTZTRaP code.</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">
<ul>
  <li>0 =&gt; do not write the BoltzTraP input files;</li>
  <li>1 =&gt; write out the input files for BoLTZTRaP code.</li>
</ul>
</font>
<br>
<br>
<br>
<br>

<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prtfsurf">prtfsurf</a></font>
<br>
<font id="definition">Mnemonics: PRinT the Fermi SURFace</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text"> Only for electron-phonon calculations. The available
options are:
</font>
<ul>
  <font id="text"> <li>0 =&gt; do not write the Fermi Surface;</li>
  <li>1 =&gt; write out the Fermi Surface in the BXSF format used by 
  <a href="http://www.xcrysden.org">XCrySDen</a>.</li>
  </font>
</ul>
<font id="text">Further comments : </font>
<p><font id="text"> a) Only the eigenvalues for k-points inside the
Irreducible Brillouin zone are required. As a consequence it is
possible to use <a href="../input_variables/html_automatically_generated/varbas.html#kptopt">kptopt</a>
=1 during the GS calculation to reduce
the computational effort.</font></p>
<font id="text"> </font>
<p><font id="text"> b) Only unshifted k-grids that are orthogonal in
reduced space are supported by <a href="http://www.xcrysden.org">XCrySDen</a>.
This implies that <a href="../input_variables/html_automatically_generated/varbas.html#shiftk">shiftk</a>
must be set to (0,0,0) during the GS calculation
with <a href="../input_variables/html_automatically_generated/varbas.html#nshiftk">nshiftk</a>=1.
Furthermore if <a href="../input_variables/html_automatically_generated/vargs.html#kptrlatt">kptrlatt</a>
is used to generate the k-grid, all the off-diagonal elements of this
array must be zero.</font></p>
<br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prt_ifc">prt_ifc</a></font>
<br>
<font id="definition">Mnemonics: PRinT the Interatomic Force Constants</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text"> Flag to print out the Interatomic Force Constants in real space to a file. The available
options are:
</font>
<ul>
  <font id="text"> <li>0 =&gt; do nothing (IFC are printed to the log file);</li>
  <li>1 =&gt; write out the IFC in file ifcinfo.out (the name is fixed) to be used by AI2PS from John Rehr's group</li>
  </font>
</ul>
<br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prtmbm">prtmbm</a></font>
<br>
<font id="definition">Mnemonics: PRinT Mode-By-Mode decomposition of
the electrooptic tensor</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">
<ul>
  <li>0 =&gt; do not write the mode-by-mode decomposition of the
electrooptic tensor;</li>
  <li>1 =&gt; write out the contribution of the individual zone-center
phonon modes to the electrooptic tensor.</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="prtnest">prtnest</a></font>
<br><font id="definition">Mnemonics: PRinT the NESTing function</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">

Only for electron-phonon calculations.
This input variable is used to calculate the nesting function defined as:
\chi_{nm}(q) = \sum_k \delta(\epsilon_{k,n}-epsilon_F) \delta(\epsilon_{k+q,m}-\epsilon_F).
The nesting factor is calculated for every point of the k-grid
employed during the previous GS calculation.
The values are subsequently interpolated along the trajectory in q space
defined by <a href="anaddb_help.html#qpath">qpath</a>, and written in the _NEST
file using the X-Y format (<b>prtnest</b>=1).
It is also possible to analyze the behavior of the function
in the reciprocal unit cell saving the values in the NEST_XSF file that can be read
using <a href="http://www.xcrysden.org">XCrySDen</a> (<b>prtnest</b>=2).
Note that in the present implementation what is really printed to file is
the "total nesting" defined as \sum_{nm} \chi_{nm}(q).
Limitations: the k-grid defined by
<a href="../input_variables/html_automatically_generated/vargs.html#kptrlatt">kptrlatt</a>
must be orthogonal in reciprocal space,
moreover off-diagonal elements are not allowed, i.e
kptrlatt 4 0 0  0 4 0  0 0 4 is fine while
kprtlatt = 1 0 0 0 1 1 0 -1 1 will not work.

<p>	
<ul>
  <li>0 =&gt; do not write the nesting function;</li>
  <li>1 =&gt; write only the nesting function along the q-path in the X-Y format;</li>
  <li>2 =&gt; write out the nesting function both in the X-Y and in the XSF format.</li>
</ul>
</font>
<br> <br> <br> <br> <a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="prtsrlr">prtsrlr</a></font>
<br>
<font id="definition">Mnemonics: PRinT the Short-Range/Long-Range 
decomposition of phonon FREQuencies</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text"> Only if <a href="anaddb_help.html#ifcflag">ifcflag</a>=1. The available
options are:
</font>
<ul>
  <font id="text"> <li>0 =&gt; do not write the SR/LR decomposition of phonon frequencies;</li>
  <li>1 =&gt; write out the SR/LR decomposition of the square of phonon frequencies at each q-point specified 
  in <a href="anaddb_help.html#qph1l">qph1l</a>.</li>
  </font>
</ul>
<font id="text"> For details see <I>Europhys. Lett., 33 (9), pp. 713-718 (1996)</I>.
See also <a href="anaddb_help.html#ifcflag">ifcflag</a>, 
<a href="anaddb_help.html#ifcflag">ifcflag</a> and
<a href="anaddb_help.html#dipdip">dipdip</a>.
 </font>
<br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>

<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="qgrid_type">qgrid_type</a></font>
<br><font id="definition">Mnemonics: Q wavevectors defining a PATH</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If <b>qgrid_type</b> is set to 1, the electron-phonon part of anaddb will use
the <a href="anaddb_help.html#ep_nqpt"><b>ep_nqpt</b></a> and <a
href="anaddb_help.html#ep_qptlist"><b>ep_qptlist</b></a> variables to determine
which q-points to calculate the electron-phonon coupling for. This is an alternative
to a regular grid as in the rest of anaddb (using <a href="anaddb_help.html#ngqpt">ngqpt</a>).
</font>

<br> <br> <br> <br> <a href="#top">Go to the top</a>

<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="qpath">qpath</a></font>
<br><font id="definition">Mnemonics: Q wavevectors defining a PATH</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real array <b>qpath</b>(3,<a href="anaddb_help.html#nqpath">nqpath</a>) </font>
<br><font id="default">Default: <b>qpath</b>(:,:)=0.0</font>
<br><br><font id="text">

It is used to generate the path along which the phonon band structure and
phonon linewidths are interpolated.
There are <a href="anaddb_help.html#nqpath">nqpath</a>-1 segments to be
defined, each of which starts from the end point of the previous one.
The number of divisions in each segment is automatically calculated
inside the code to respect the proportion between the segments.
The same circuit is used for the output of the nesting function if
<a href="anaddb_help.html#prtnest">prtnest</a>=1.
</font>


<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>



<font id="title"><a name="qph1l">qph1l</a></font>
<br><font id="definition">Mnemonics: Q for PHonon List 1</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type:
real array <b>qph1l</b>(4,<a href="anaddb_help.html#nph1l">nph1l</a>) </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">List of <a href="anaddb_help.html#nph1l">nph1l</a>
wavevectors, at which the phonon frequencies will be interpolated.
Defined by 4 numbers:
the wavevector is made by the three first numbers
divided by the fourth one (a normalisation factor).
The coordinates are defined with respect to the unit vectors
that spans the Brillouin zone. Note that this set of axes
can be non-orthogonal and not normed.
The normalisation factor makes easier the input of wavevector
such as (1/3,1/3,1/3), represented by 1.0 1.0 1.0 3.0 .
<br>
The internal representation of this array is as follows :
for each wavevector, the three first numbers are stored
in the array qph1l(3,nph1l), while the fourth is stored
in the array qnrml1(nph1l).

</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="qph2l">qph2l</a></font>
<br><font id="definition">Mnemonics: PHonon List 2</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type:
real array qph2l(4,<a href="anaddb_help.html#nph2l">nph2l</a>) </font>
<br><font id="default">Default: all 0</font>
<br><br><font id="text">
List of phonon wavevector <i>directions</i> along which the
non-analytical correction to the Gamma-point phonon frequencies
will be calculated (for insulators).
Four numbers, as for <a href="anaddb_help.html#qph1l">qph1l</a>, 
but where the last one, that correspond to
the normalisation factor, is 0.0
For the anaddb code, this has the meaning that the three previous
values define a direction. The direction is in CARTESIAN
COORDINATES, unlike the non-Gamma wavevectors defined in the
first list of vectors...
<p>
Note that if the three first numbers are zero, then
the code will do a calculation at Gamma without
non-analyticities.
<p>
Also note that the code automatically set the imaginary
part of the dynamical matrix to zero. This is useful to compute
the phonon frequencies when half of the k-points has been
used, by the virtue of the time-reversal symmetry (which
may induce parasitic imaginary parts...).
<br>
The internal representation of this array is as follows :
for each wavevector, the three first numbers are stored
in the array qph2l(3,nph2l), while the fourth is stored
in the array qnrml2(nph2l).
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr>
<font id="title"><a name="qrefine">qrefine</a></font>
<br><font id="definition">Mnemonics: Q-point REFINEment order (experimental)</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer array <b>qrefine</b>(3) </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If <b>qrefine</b> is superior to 1, attempts to initialize a first set of dynamical matrices
from the DDB file, with a q-point grid which is <a href="anaddb_help.html#ngqpt">ngqpt</a>
divided by <b>qrefine</b> (e.g. ngqpt 4 4 2 qrefine 2 2 1 starts with a 2x2x2 grid).
The dynamical matrices are interpolated onto the full <a href="anaddb_help.html#ngqpt">ngqpt</a>
grid and any additional information found in the DDB file is imposed, before proceeding
to normal band structure and other interpolations. Should implement Gaal-Nagy's algorithm in
PRB <b>73</b> 014117.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr>
<font id="title"><a name="q1shft">q1shft</a></font>
<br><font id="definition">Mnemonics: Q shifts for the grid number 1</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type:
real array <b>q1shft</b>(3,<a href="anaddb_help.html#nqshft">nqshft</a>) </font>
<br><font id="default">Default: all 0.0</font>
<br><br><font id="text">
This vector gives the shifts needed to define the coarse q-point grid.
<p>
          a) Case nqshft=1
          In general, 0.5 0.5 0.5 with the ngqpt's even will give
            very economical grids. On the other hand, is it
            sometimes better for phonons to have the Gamma point
            in the grid. In that case, 0.0 0.0 0.0 should be OK.
          For the hexagonal lattice, the above mentioned
            quantities become 0.0 0.0 0.5 and 0.0 0.0 0.0 .
<p>
          b) Case nqshft=2
          The two q1shft vectors must form a BCC lattice.
          For example, use 0.0 0.0 0.0 and 0.5 0.5 0.5
<p>
          c) Case nqshft=4
          The four q1shft vectors must form a FCC lattice.
          For example, use 0.0 0.0 0.0 , 0.0 0.5 0.5 ,
                           0.5 0.0 0.5 , 0.5 0.5 0.0
          or   0.5 0.5 0.5  , 0.0 0.0 0.5 ,
               0.0 0.5 0.0  , 0.5 0.0 0.0  (the latter is referred to
                                            as shifted)
<p>
          Further comments : by using this technique, it is possible
          to increase smoothly the number of q-points, at least
          less abruptly than relying on series of grids like
          (for the full cubic symmetry): <br>
          1x1x1 => (0 0 0) <br>
          2x2x2 (shifted) => (.25 .25 .25) <br>
          2x2x2 => 1x1x1 + (.5 0 0) (.5 .5 0) (.5 .5 0) <br>
          4x4x4 => 2x2x2 + (.25 0 0) (.25 .25 0) (.25 .5 0) 
                          (.25 .25 .25) (.25 .25 .5) (.25 .5 .5) <br>
           ... <br> <br>
          with respectively 1, 1, 4 and 10 q-points, corresponding
          to a number of points in the full BZ of 1, 8, 8 and 64.
          Indeed, the following grids are made available : <br>
          1x1x1 with nqshft=2  => (0 0 0) (.5 .5 .5) <br>
          1x1x1 with nqshft=4  => (0 0 0) (.5 .5 0) <br>
          1x1x1 with nqshft=4 (shifted) => (.5 0 0) (.5 .5 .5) <br>
          2x2x2 with nqshft=2  => 2x2x2 + (.25 .25 .25) <br>
          2x2x2 with nqshft=4  => 2x2x2 + (.25 .25 0) (.25 .25 .5) <br>
          2x2x2 with nqshft=4 (shifted) => (.25 0 0) (.25 .25 .25)
                                           (.5 .5 .25) (.25 .5 0) <br>
           ... <br> <br>
          with respectively 2, 2, 2, 5, 6 and 4 q-points, corresponding
          to a number of points in the full BZ of 2, 4, 4, 16, 32 and 32.
<p>
          For a FCC lattice, it is possible to sample only the Gamma point
          by using a 1x1x1 BCC sampling (nqshft=2).
<p>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="q2shft">q2shft</a></font>
<br><font id="definition">Mnemonics: Q points SHiFTs for the grids 2</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real array q2shft(3) </font>
<br><font id="default">Default: all 0</font>
<br><br><font id="text">
Similar to <a href="anaddb_help.html#q1shft">q1shft</a>,
but for the series of fine grids.
Note that <a href="anaddb_help.html#nqshft">nqshft</a>
for this series of grids corresponds to 1.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="ramansr">ramansr</a></font>
<br><font id="definition">Mnemonics: RAMAN Sum-Rule </font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Govern the imposition of the sum-rule on the Raman tensors.
<br>
As in the case of the Born effective charges, the first-order derivatives
of the linear dielectric susceptibility with respect to an atomic displacement
must vanish when they are summed over all atoms. This sum rule is broken
in most calculations. By putting <b>ramansr</b> equal to 1 or 2, this sum
rule is imposed by giving each atom a part of the discrepancy.
<ul>
  <li>0 =&gt; no sum rule is imposed;</li>
  <li>1 =&gt; impose the sum rule on the Raman tensors, giving each
atom an equal part of the discrepancy;</li>
  <li>2 =&gt; impose the sum rule on the Raman tensors, giving each
atom a part of the discrepancy proportional to the magnitude of its
contribution to the Raman tensor.</li>
</ul>
For the time being, <b>ramansr</b>=1 is the preferred choice.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="relaxat">relaxat</a></font>
<br>
<font id="definition">Mnemonics: RELAXation of AToms</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer</font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">If <b>relaxat</b>=1, relax atomic positions during a
structural relaxation
at constrained polarization.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="relaxstr">relaxstr</a></font>
<br>
<font id="definition">Mnemonics: RELAXation of STRain</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer</font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">If <b>relaxat</b>=1, relax lattice constants
(lengths/angles) during a structural relaxation
at constrained polarization. See <a href="anaddb_help.html#polflag">polflag</a>.
</font>
<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>



<font id="title"><a name="relaxstr">relaxstr</a></font>
<br><font id="definition">Mnemonics: RELAXation of STRain</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer</font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
If <b>relaxat</b>=1, relax lattice constants (lengths/angles) during a structural relaxation
at constrained polarization.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>




<font id="title"><a name="rfmeth">rfmeth</a></font>
<br><font id="definition">Mnemonics: Response-Function METHod</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 1</font>
<br><br><font id="text">
Select a particular set of Data Blocks in the DDB.
(PRESENTLY, ONLY OPTION 1 IS AVAILABLE)
<br>
<ul>
  <li> 1 =&gt; Blocks obtained by a non-stationary formulation.</li>
  <li> 2 =&gt; Blocks obtained by a stationary formulation.</li>
</ul>
For more detailed explanations, see abinit_help
If the information in the DDB is available, always use
the option 2. If not, you can try option 1, which is less
accurate.

</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="rifcsph">rifcsph</a></font>
<br><font id="definition">Mnemonics: Radius of the Interatomic Force Constant SPHere</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: zero</font>
<br><br><font id="text">

Cut-off radius for the sphere for
interatomic force constant, see also the alternative <a href="anaddb_help.html#nsphere">nsphere</a>.
If <b>rifcsph</b>= 0 : maximum extent allowed by the grid .
</font>
<p><font id="text">This number defines the atoms for which the
short range part of the interatomic force constants, after
imposition of the acoustic sum rule, will not be put to zero.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr><font id="title"><a name="selectz">selectz</a></font>
<br>
<font id="definition">Mnemonics: SeLECT Z</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 0</font>
<br>
<br>
<font id="text">Select some parts of the effective charge tensor.
(This is done after the application or non-application of the ASR for
effective charges). The transformed effective charges are then used for
all the subsequent calculations. <br>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="selectz">selectz</a></font>
<br><font id="definition">Mnemonics: SeLECT Z</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">
Select some parts of the effective charge tensor.
(This is done after the application or non-application of
the ASR for effective charges). The transformed effective
charges are then used for all the subsequent calculations.
<br>
<ul>
 <li> 0 => The effective charge tensor is left as it is.</li>
 <li> 1 => For each atom, the effective charge tensor is made
               isotropic, by calculating the trace of the matrix,
               dividing it by 3, and using this number in a
               diagonal effective charge tensor. </li>
 <li> 2 => For each atom, the effective charge tensor is made
               symmetric, by simply averaging on symmetrical elements.<li>
</ul>
<p>
Note : this is for analysis the effect of anisotropy
in the effective charge. The result with non-zero <b>selectz</b>
are unphysical.</p>
</font><br>
<br>
<br>

<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr><font id="title"><a name="symdynmat">symdynmat</a></font>
<br> <font id="definition">Mnemonics: SYMmetrize the DYNamical MATrix</font>
<br> <font id="category">Characteristic: </font>
<br> <font id="vartype">Variable type: integer </font>
<br> <font id="default">Default: 1 (was 0 before v5.3)</font>
<br>
<br>
<font id="text">If <b>symdynmat</b> is equal to 1, the dynamical
matrix
is symmetrized before the diagonalization.
<br>
This is especially useful when the set of primitive vectors of the unit
cell
and their opposite do not reflect the symmetries of the Bravais lattice
(typical case : body-centered tetragonal lattices ; FCC and BCC lattices
might be treated with the proper setting of the
<a href="anaddb_help.html#brav">brav</a>
variable),
and the interpolation
procedure based on interatomic force constant is used : there are some
slight symmetry breaking effects. The latter can be bypassed by this
additional
symmetrization.
</font><br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
</p>
<hr><font id="title"><a name="symgkq">symgkq</a></font>
<br> <font id="definition">Mnemonics: SYMmetrize the GKk matrix elements for each Q</font>
<br> <font id="category">Characteristic: </font>
<br> <font id="vartype">Variable type: integer </font>
<br> <font id="default">Default: 1</font>
<br>
<br>
<font id="text">
If <b>symgkq</b> is equal to 1, the electron-phonon matrix elements are symmetrized
over the small group of the q-point they correspond to. This should always be used,
except for debugging or test purposes.
</font><br>

<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="targetpol">targetpol</a></font>
<br>
<font id="definition">Mnemonics: TARGET POLarization</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: real targetpol(1:3) </font>
<br>
<font id="default">Default: 0.0</font>
<br>
<br>
<font id="text">Target value of the polarization in cartesian
coordinates and in C/m^2.
See <a href="anaddb_help.html#polflag">polflag</a>.
</font><br>
<br>
<br>
<br>
<a href="#top">Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input
variables</a>
<hr><font id="title"><a name="telphint">telphint</a></font>
<br>
<font id="definition">Mnemonics: Technique for ELectron-PHonon
INTegration</font>
<br>
<font id="category">Characteristic: </font>
<br>
<font id="vartype">Variable type: integer </font>
<br>
<font id="default">Default: 1</font>
<br>
<br>
<font id="text">Flag controlling the Fermi surface integration
technique used for electron-phonon quantities.
<ul>
  <li>0 = tetrahedron method (no adjustable parameter)</li>
  <li>1 = Gaussian smearing (see <a href="anaddb_help.html#elphsmear">elphsmear</a>)</li>
  <li>2 = uniformly weighted band window between <a href="#ep_b_min">ep_b_min</a> and <a href="#ep_b_max">ep_b_max</a>, for all k-points</li>
</ul>
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="temperinc">temperinc</a></font>
<br><font id="definition">Mnemonics: TEMPERature INCrease</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 100.0</font>
<br><br><font id="text">
Increment of the temperature in Kelvin, for thermodynamical and el-phon
transport properties. See the associated
<a href="anaddb_help.html#tempermin">tempermin</a>
and <a href="anaddb_help.html#ntemper">ntemper</a> variables.
The default temperature grid goes from 100K to 1000K by step of 100K. For the largest temperatures, for most solids, anharmonic effects not accounted in the harmonic approximation implemented in anaddb will be important. For weakly bounded systems (e.g. Van der Waals solids), such anharmonic effects might be important already at room temperature.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="tempermin">tempermin</a></font>
<br><font id="definition">Mnemonics: TEMPERature MINimum</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 100.0</font>
<br><br><font id="text">
Lowest temperature (Kelvin) at which the thermodynamical quantities
have to be evaluated. Cannot be zero when <a href="anaddb_help.html#thmflag">thmflag</a>
<p>The highest temperature is defined using
<a href="anaddb_help.html#temperinc">temperinc</a>
and <a href="anaddb_help.html#ntemper">ntemper</a>.
The default temperature grid goes from 100K to 1000K by step of 100K. For the largest temperatures, for most solids, anharmonic effects not accounted in the harmonic approximation implemented in anaddb will be important. For weakly bounded systems (e.g. Van der Waals solids), 
such anharmonic effects might be important already at room temperature.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="thmflag">thmflag</a></font>
<br><font id="definition">Mnemonics: THerMal FLAG</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font>
<br><font id="default">Default: 0</font>
<br><br><font id="text">

Flag controlling the calculation of thermal quantities.

<ul>
<li>When <b>thmflag</b> == 1, the code will compute, using the histogram method :
<ul>
<li> the normalized phonon DOS </li>
<li> the phonon internal energy, free energy,
              entropy, constant volume heat capacity
              as a function of the temperature </li>
<li> the Debye-Waller factors (tensors) for
              each atom, as a function of the temperature</li>
<li> the mean-square velocity tensor for each atom, as a function of temperature </li>
<li> the "average frequency"
              as a function of the temperature
              (if <a href="anaddb_help.html#iavfrq">iavfrq</a>=1) </li>
</ul> </li>
<li>When <b>thmflag</b> == 2, all the phonon frequencies for the
q points in the second grid are printed. </li>

<li>When <b>thmflag</b> == 3, 5 or 7, the thermal corrections to the electronic eigenvalues are calculated. 
If <b>thmflag</b>==3, the list of phonon wavevector from the first list is used (with equal weight for all wavevectors in this list), 
while if <b>thmflag</b>==5 or 7, the first grid of wavevectors is used, 
possibly folded to the irreducible Brillouin Zone if symmetry operations are present,
or if they are recomputed (this happens for <b>thmflag</b>==7).</li>
<li>When <b>thmflag</b> == 4 or 6, the temperature broadening (electron lifetime) of the electronic eigenvalues is calculated. 
If <b>thmflag</b>==4, the list of phonon wavevector from the first list is used (with equal weight for all wavevectors in this list), 
while if <b>thmflag</b>==6, the first grid of wavevectors is used, possibly folded to the irreducible Brillouin Zone 
if symmetry operations are present or if they are recomputed (this happens for <b>thmflag</b>==8).</li>
</ul>
WARNING: The use of symmetries for the temperature dependence of the eigenenergies is tricky ! It can only be valid
 for the  k points that respect the symmetries (i.e. the Gamma point), provided one also averages over the
degenerate states.
<br>

<p>
<font id="text">Input variables that may be needed if this flag is activated :
<a href="anaddb_help.html#dostol">dostol</a>,
<a href="anaddb_help.html#nchan">nchan</a>,
<a href="anaddb_help.html#ntemper">ntemper</a>,
<a href="anaddb_help.html#temperinc">temperinc</a>,
<a href="anaddb_help.html#tempermin">tempermin</a>,
as well as the wavevector grid number 2 definition,
<a href="anaddb_help.html#ng2qpt">ng2qpt</a>,
<a href="anaddb_help.html#ngrids">ngrids</a>,
<a href="anaddb_help.html#q2shft">q2shft</a>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>


<font id="title"><a name="thmtol">thmtol</a></font>
<br><font id="definition">Mnemonics: THerModynamic TOLerance</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: real </font>
<br><font id="default">Default: 0.05</font>
<br><br><font id="text">
The relative tolerance on the thermodynamical functions
This number will determine when the series of channel widths
with which the DOS is calculated can be stopped, i.e.
the mean of the relative change going from one grid
to the next bigger is smaller than <b>thmtol</b>.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<b> | </b><a href="anaddb_help.html#list">List of ANADDB input variables</a>
<hr>

<font id="title"><a name="use_k_fine">use_k_fine</a></font>
<br><font id="definition">Mnemonics: USE K-grid FINEr than the coarse k-grid</font>
<br><font id="category">Characteristic:  </font>
<br><font id="vartype">Variable type: integer </font><br><font id="default">Default: 0</font><br><br><font id="text">
	When set, <a href=#kptrlatt_fine>kptrlatt_fine</a> is suggested to be given. For the present version, both eigenvalues (densergridGKK, obtained from mrggkk with only the GS WFK file) and electronic velocities(GKK files from DDK calculation) are needed. Note that the coarse k-grid must be a subset of the fine k-grid.
</font>

<br><br><br><br><a href=#top>Go to the top</a>
<B> | </B><a href="anaddb_help.html#list">List of ANADDB input variables</a>

<script type="text/javascript" src="list_internal_links.js"> </script>

</body>
</html>
